<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Получи картинку</title>
  <style>
    *{
      box-sizing: border-box;
      font-family: Arial;
    }

    #container{
      box-shadow:0 0 10px rgba(0, 0, 0, 0.1);
      max-width:500px;
      flex-wrap: wrap;
      display: flex;
      flex-direction: column;
      justify-content: center; /* Центрирует элементы по вертикали */
      align-items: center;
      margin:0 auto;
      padding:15px;
      gap:10px;
    }

    h4{
      text-align: center;
      margin:0;
    }

    a{
      color:rgb(5, 181, 5);
      text-decoration: none;
    }

    a:hover{
      text-decoration: underline;
    }

    input{
      padding:5px;
      font-size: 12px;
      width:90%;
      border-radius: 3px;
      border: 0.5px solid gray;
      outline: none;
    }

    #btn{
      padding: 2px 8px;
      font-size:12px;
      background-color:rgb(220, 249, 220);
      color:black;
      border:1px solid gray;
      border-radius:2px;
    }

    #btn:hover{
      cursor:pointer;
      background-color:rgba(134, 152, 134, 0.816);
      color:rgb(220, 249, 220);
    }

    #btn:active{
      opacity:0.6;
    }
    #loader {
      display: none;
      margin: 20px auto;
      border: 4px solid #f3f3f3;
      border-radius: 50%;
      border-top: 4px solid #3498db;
      width: 40px;
      height: 40px;
      animation: spin 2s linear infinite;
    }
  </style>
</head>
<body>
  <div id="container">
    <h4>Чтобы получить изображение, введите в поле поиска её адрес с сайта <a href="https://unsplash.com/">Unsplach.com</a> и нажмите на кнопку ниже &#10025;</h4>
    <input id="input" placeholder="Ваша ссылка на изображение:">
    <button id="btn">Найти:</button>
    <div id="loader"></div>
  </div>
  <script>

    document.querySelector('#btn').addEventListener('click', async (e) => {
      e.preventDefault(); 
      loader.style.display = 'block';
      setTimeout(async ()=>{
        await getImage();
      }, 1000);
    });

    const loader = document.querySelector('#loader');
    const imageContainer = document.querySelector('#container');
    const link = document.querySelector('#input');
  
    async function getImage() {
        try {
            
            const imageUrl = link.value;
            
            // Проверяем, что ссылка начинается с https://unsplash.com/
            if (!imageUrl.startsWith("https://images.unsplash.com/")) {
                    throw new Error("Пожалуйста, введите ссылку на изображение с сайта Unsplash.");
                }

                // Создаем элемент изображения
                const img = document.createElement('img');

                // Устанавливаем атрибут src из введенного URL
                img.src = imageUrl;
                img.width = 200; // Замените на нужную вам ширину
                img.height = 150;
                img.style.objectFit = 'cover';
                // Добавляем изображение в контейнер
                imageContainer.appendChild(img);
            } catch(err) {
                console.error(err.message);
            } finally {
                loader.style.display = 'none';
            }
    }
  </script>
</body>
</html>